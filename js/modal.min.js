Rocket.defaults.modal={breakpoint:700,buttons:!0,buttonFalse:"Cancel",buttonTrue:"Ok",close:"Close",errors:!0,reveal:"slidefromtop",show:"always"};var RockMod_Modal;!function(e){function t(e){if(Rocket.is.object(e)){var t=Rocket.defaults.modal,o={body:Rocket.helper.setDefault(e.body,""),breakpoint:Rocket.helper.setDefault(e.breakpoint,t.breakpoint),buttons:Rocket.helper.setDefault(e.buttons,t.buttons),buttonFalse:Rocket.helper.setDefault(e.buttonFalse,t.buttonFalse),buttonTrue:Rocket.helper.setDefault(e.buttonTrue,t.buttonTrue),classAdd:Rocket.helper.setDefault(e.classAdd,""),close:Rocket.helper.setDefault(e.close,t.close),element:{},heading:Rocket.helper.setDefault(e.heading,""),onDone:Rocket.is.function(e.onDone)?e.onDone:null,onTrue:Rocket.is.function(e.onTrue)?e.onTrue:null,parseEvent:e.parseEvent?e.parseEvent:null,reveal:Rocket.helper.setDefault(e.reveal,t.reveal),revealLarge:Rocket.helper.setDefault(e.revealLarge,""),show:Rocket.helper.setDefault(e.show,t.show),target:Rocket.helper.setDefault(e.target,"")};return o.parseEvent&&o.parseEvent.preventDefault(),o.target.length>0?(o.element.modal=Rocket.dom.element(o.target),Rocket.is.element(o.element.modal)?n.show(o):void(Rocket.defaults.modal.errors&&Rocket.error("Rocket Modal: The "+o.target+" does not exist on the DOM."))):n.new(o)}}var o=["appear","appearscale","slidefromright","slidefromtop","slidefromleft","slidefrombottom"],l={addButtons:function(e){if(e.buttons&&!Rocket.exists(e.element.modal.querySelector(".rmo-buttons"))){var t=l.element("div","rmo-buttons",""),o=l.element("button","btn-false",e.buttonFalse);if(Rocket.event.add(o,"click",n.close),t.appendChild(o),Rocket.is.function(e.onTrue)){var a=l.element("button","btn-true",e.buttonTrue);Rocket.event.add(a,"click",e.onTrue),t.appendChild(a)}e.element.modal.appendChild(t)}},addClose:function(e){if(!Rocket.exists(e.element.modal.querySelector(".rmo-close"))){var t=document.createElement("a");Rocket.classes.add(t,"rmo-close"),t.innerHTML=e.close,Rocket.event.add(t,"click",n.close),e.element.modal.appendChild(t)}},element:function(e,t,o){if(!Rocket.is.string(e))return!1;var l=document.createElement(e);return Rocket.is.string(t)&&(l.className=t),Rocket.is.string(o)&&o.length>0&&(l.innerHTML=o),l}},n={close:function(e){if(void 0===e&&(e=null),Rocket.has.class(Rocket.dom.html,"rmo-reveal")){Rocket.classes.remove(Rocket.dom.html,"rmo-reveal");var t=Rocket.dom.element(".rocket-modal._current");Rocket.exists(t)&&setTimeout(function(){return Rocket.has.class(t,"_new")?Rocket.dom.remove(t):Rocket.classes.remove(t,"_current"),Rocket.is.function(e)?e():void Rocket.overlay.hide()},400)}else{if(Rocket.is.function(e))return e();Rocket.overlay.hide()}},new:function(e){var t="rocket-modal _reveal _new";e.classAdd.length>0&&(t+=" "+e.classAdd);var o=document.createElement("div");if(Rocket.classes.add(o,t),e.element.modal=o,l.addClose(e),e.heading.length>0){var a=l.element("div","rmo-heading",""),r=l.element("h6","",e.heading);a.appendChild(r),e.element.modal.appendChild(a)}if(e.body.length>0){var d=l.element("div","rmo-body",e.body);e.element.modal.appendChild(d)}return l.addButtons(e),Rocket.dom.body.appendChild(e.element.modal),n.reveal(e),{close:n.close,modal:e.element.modal}},reveal:function(e){o.indexOf(e.revealLarge)>-1&&Rocket.dimensions.width(window)>e.breakpoint?Rocket.classes.add(e.element.modal," _"+e.revealLarge):Rocket.classes.add(e.element.modal," _"+e.reveal),setTimeout(function(){n.close(function(){Rocket.overlay.show(),Rocket.classes.add(Rocket.dom.html,"rmo-reveal"),Rocket.classes.add(e.element.modal,"_current"),Rocket.is.function(e.onDone)&&e.onDone(e.element.modal)})},50)},show:function(e){var t="rocket-modal _reveal _existing";e.classAdd.length>0&&(t+=" "+e.classAdd),Rocket.classes.add(e.element.modal,t),l.addClose(e),l.addButtons(e);var o=e.element.modal.querySelector(".rmo-heading h6"),a=e.element.modal.querySelector(".rmo-body");e.heading.length>0&&o&&(o.innerHTML=e.heading),e.body.length>0&&a&&(a.innerHTML=e.body),n.reveal(e)}};e.init=t}(RockMod_Modal||(RockMod_Modal={})),Rocket.modal=RockMod_Modal.init;