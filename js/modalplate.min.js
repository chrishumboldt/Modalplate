var modalplate=function(){var e={body:!1,classAdd:!1,close:"close",breakpoint:700,heading:!1,onDone:!1,parseEvent:!1,reveal:"slide-from-top",revealLarge:!1,targetModal:!1,trigger:"always"},a=["_appear","_appear-scale","_slide-from-right","_slide-from-top","_slide-from-left","_slide-from-bottom"],t={modal:function(e){var a=document.createElement("div"),t="";return e.heading!==!1&&(t+='<div class="modalplate-heading"><h6>'+e.heading+"</h6></div>"),t+='<div class="modalplate-body">'+(e.body?e.body:"")+"</div>",a.className="modalplate _reveal _new",e.classAdd!==!1&&(a.className=e.classAdd),a.innerHTML=t,e.close!==!1&&a.insertBefore(this.modalClose(e.close),a.firstChild),a},modalClose:function(e){var a=document.createElement("a");return a.className="modalplate-close",a.innerHTML=e,a},overlay:function(){var e=document.createElement("div");return e.id="web-overlay",e}},l=function(t){var t=t||!1,l={body:t.body||e.body,classAdd:t.classAdd||e.classAdd,close:t.close||e.close,breakpoint:t.breakpoint||e.breakpoint,heading:t.heading||e.heading,onDone:"function"==typeof t.onDone?t.onDone:e.onDone,parseEvent:t.parseEvent||e.parseEvent,reveal:t.reveal&&a.indexOf(t.reveal)>-1?t.reveal:e.reveal,revealLarge:t.revealLarge||e.revealLarge,targetModal:t.targetModal||e.targetModal,trigger:t.trigger||e.trigger};l.parseEvent!==!1&&l.parseEvent.preventDefault(),r(),"always"===l.trigger?s(l):"large"===l.trigger&&window.innerWidth>=l.breakpoint?s(l):"small"===l.trigger&&window.innerWidth<=l.breakpoint&&s(l)},o=function(){closeTriggers=document.querySelectorAll(".modalplate .modalplate-close, #web-overlay");for(var e=closeTriggers.length-1;e>=0;e--)closeTriggers[e].onclick=function(e){return function(e){e.preventDefault(),n.classRemove(n.element.html,"modalplate-reveal")}}(e)},s=function(e){if(n.exists(document.querySelector(".modalplate._reveal"))){var l=document.querySelector(".modalplate._reveal");n.hasClass(l,"_new")?l.parentNode.removeChild(l):(n.classRemove(l,"_reveal"),n.classRemove(l,a))}if(e.targetModal){var s=document.querySelector(e.targetModal);e.heading&&(s.querySelector(".modalplate-heading h6").innerHTML=e.heading),e.body&&(s.querySelector(".modalplate-body").innerHTML=e.body),e.close&&!n.exists(s.querySelector(".modalplate-close"))&&s.insertBefore(t.modalClose(e.close),s.firstChild)}else{n.element.body.appendChild(t.modal(e));var s=document.querySelector(".modalplate._reveal")}n.exists(s)&&(e.revealLarge!==!1?window.innerWidth<e.breakpoint?n.classAdd(s,"_"+e.reveal):n.classAdd(s,"_"+e.revealLarge):n.classAdd(s,"_"+e.reveal)),setTimeout(function(){n.exists(s)&&(o(),n.classAdd(n.element.html,"modalplate-reveal"),n.classAdd(s,"_reveal"))},50)},r=function(){n.isTouch()||n.classAdd(n.element.html,"modalplate-no-touch"),n.overlayAdd()},n={element:{body:document.getElementsByTagName("body")[0],html:document.getElementsByTagName("html")[0]},webPrefix:{basic:"web-",state:"_state-"},classAdd:function(e,a){var t=this;if(t.exists(e))if("object"==typeof a)for(var l=0,o=a.length;o>l;l++)t.classAddExecute(e,a[l]);else if(t.hasWhiteSpace(a))for(var s=a.split(" "),l=0,o=s.length;o>l;l++)t.classAddExecute(e,s[l]);else t.classAddExecute(e,a)},classAddExecute:function(e,a){var t=e.className;null===t.match(new RegExp("\\b"+a+"\\b","g"))&&(e.className=""===t?a:t+" "+a)},classClear:function(e){this.exists(e)&&e.removeAttribute("class")},classRemove:function(e,a){var t=this;if(t.exists(e))if("object"==typeof a)for(var l=a.length-1;l>=0;l--)t.classRemoveExecute(e,a[l]);else if(t.hasWhiteSpace(a))for(var o=a.split(" "),l=0,s=o.length;s>l;l++)t.classRemoveExecute(e,o[l]);else t.classRemoveExecute(e,a)},classRemoveExecute:function(e,a){e.className.indexOf(a)>-1&&(e.className=e.className.split(" ").filter(function(e){return e!=a}).toString().replace(/,/g," "),""===e.className&&this.classClear(e))},exists:function(e){return null!==e&&e!==!1&&"undefined"!=typeof e},hasClass:function(e,a){return(" "+e.className+" ").indexOf(" "+a+" ")>-1},hasWhiteSpace:function(e){return/\s/.test(e)},idAdd:function(e,a){this.exists(e)&&e.setAttribute("id",a)},isTouch:function(){return"ontouchstart"in window||"onmsgesturechange"in window},log:function(e){window&&window.console&&console.log(e)},overlayAdd:function(){var e=this,a=document.createElement("div");e.idAdd(a,e.webPrefix.basic+"overlay"),e.exists(document.getElementById(e.webPrefix.basic+"overlay"))||e.element.body.appendChild(a)}};return{defaults:e,init:l}}();